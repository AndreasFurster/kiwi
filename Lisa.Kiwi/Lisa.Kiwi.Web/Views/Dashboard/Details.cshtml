@using System.Runtime.InteropServices.ComTypes
@model Lisa.Kiwi.WebApi.Report
@{
  Layout = null;
}

<!doctype html>

<html>
<head>
  <title>Leerpark</title>
  <link href="~/Content/main.css" rel="stylesheet" type="text/css">
</head>

<body>
  <h1>@Resources.Categories.ResourceManager.GetString(Model.Category)</h1>

  <dl>
    <dt>@Resources.PageItems.ResourceManager.GetString("TypeDescription")</dt>
    <dd>@Resources.Categories.ResourceManager.GetString(Model.Category)</dd>

    <dt>@Resources.PageItems.ResourceManager.GetString("DateDescription")</dt>
    <dd>@Model.Created.ToString("dddd d MMMM HH:mm")</dd>

    <dt>@Resources.PageItems.ResourceManager.GetString("LocationDescription")</dt>
    <dd>@Model.Location.Building - @Model.Location.Description</dd>

    <dt>@Resources.PageItems.ResourceManager.GetString("StatusDescription")</dt>
    <dd>Open</dd>

    <dt>@Resources.PageItems.ResourceManager.GetString("VisibleDescription")</dt>
    <dd>@Resources.Statuses.ResourceManager.GetString("Visible" + Model.IsVisible.ToString())</dd>
    
    @Html.Partial("CategoryPartials/" + "_PartialDetails" + Model.Category, Model)

  </dl>
    @* TODO: Find a better solution than this, as it makes and empty Contact.*@
  @if (ViewBag.Contact.EmailAddress != null || ViewBag.Contact.Name != null || 
      ViewBag.Contact.PhoneNumber != null)
  {
    <h2>@Resources.PageItems.ResourceManager.GetString("Contact")</h2>
    <dl>
      <dt>@Resources.PageItems.ResourceManager.GetString("ContactName")</dt>
      <dd>@ViewBag.Contact.Name</dd>

      <dt>@Resources.PageItems.ResourceManager.GetString("ContactPhoneNumber")</dt>
      <dd>@ViewBag.Contact.PhoneNumber</dd>

      <dt>@Resources.PageItems.ResourceManager.GetString("ContactEmail")</dt>
      <dd>@ViewBag.Contact.EmailAddress</dd>
    </dl>
  }
    @*TODO: Please, somebody....fix...this...*@
    @* TODO: Make it so that Females can steal wallets too *@ 

    @if (Model.Perpetrator.Name != null || Model.Perpetrator.Sex.HasValue || 
        Model.Perpetrator.SkinColor != null || Model.Perpetrator.Clothing != null 
        || Model.Perpetrator.MinimumAge != 0 ||
        Model.Perpetrator.MaximumAge != 0 
        || Model.Perpetrator.UniqueProperties != null)
    {
        <h2>Misdadiger</h2>
        <dl>
            <dt>Naam</dt>
            <dd>@Model.Perpetrator.Name</dd>

            <dt>Geslacht</dt>
            <dd>@Model.Perpetrator.Sex</dd>

            <dt>Huidskleur</dt>
            <dd>@Model.Perpetrator.SkinColor</dd>

            <dt>Kleding</dt>
            <dd>@Model.Perpetrator.Clothing</dd>

            <dt>Minimale Leeftijd</dt>
            <dd>@Model.Perpetrator.MinimumAge</dd>

            <dt>Maximale Leeftijd</dt>
            <dd>@Model.Perpetrator.MaximumAge</dd>

            <dt>Uniek kenmerk</dt>
            <dd>@Model.Perpetrator.UniqueProperties</dd>
        </dl>
    }

<hr/>

@using (Html.BeginForm())
  {
    <dl>
      <dt>@Resources.PageItems.ResourceManager.GetString("Status")</dt>
      <dd>
        @Html.DropDownList("status", (IEnumerable<SelectListItem>) ViewBag.StatusNames)
      </dd>
      <dt>@Resources.PageItems.ResourceManager.GetString("VisibleChange")</dt>
      <dd>
        @Html.CheckBox("IsVisible")
      </dd>
      <dd><input type="submit" value="Opslaan"/></dd>
    </dl>
  }
    <p>@Html.ActionLink("Ga terug naar de startpagina", "Index", "Dashboard", null, new { @class = "btn btn-default btn-report" })</p>
</body>
</html>